# WeatherEvent 默认配置文件

# 全局配置
# 是否在玩家加入时发送天气信息
send-weather-info-on-join: true

# 是否在切换世界时发送天气信息
send-weather-info-on-world-change: true

# 是否仅在主世界发送信息
main-world-only: true

# 主世界名称
main-world-name: "world"

# 是否发送时间信息
send-time-info: true

# 权限组配置
permissions:
  groups:
    # 默认组配置
    default:
      # 是否免疫所有效果
      bypass-effects: false
      # 效果强度乘数
      effect-multiplier: 1.0
      # 特定效果的启用/禁用状态
      effects:
        rain_slow: true
        thunder_damage: true
        sunny_bonus: true
    
    # VIP组配置
    vip:
      bypass-effects: false
      effect-multiplier: 1.5
      effects:
        rain_slow: false  # VIP玩家免疫雨天减速效果
        thunder_damage: true
        sunny_bonus: true
    
    # 管理员组配置
    admin:
      bypass-effects: true  # 管理员免疫所有效果
      effect-multiplier: 1.0
      effects:
        rain_slow: true
        thunder_damage: true
        sunny_bonus: true

# 世界配置
worlds:
  # 主世界配置
  world:
    # 是否启用天气效果
    enabled: true
    # 效果强度乘数
    effect-multiplier: 1.0
    # 特定效果的启用/禁用状态
    effects:
      rain_slow: true
      thunder_damage: true
      sunny_bonus: true
  
  # 下界配置
  world_nether:
    enabled: true
    effect-multiplier: 1.5  # 下界效果更强
    effects:
      rain_slow: false  # 下界没有雨天效果
      thunder_damage: false  # 下界没有雷暴效果
      sunny_bonus: true

# 区域配置
regions:
  # 安全区配置
  safe_zone:
    # 世界名称（可选）
    world: "world"
    # 区域范围
    area:
      min-x: -100
      min-y: 0
      min-z: -100
      max-x: 100
      max-y: 256
      max-z: 100
    # 效果强度乘数
    effect-multiplier: 0.5  # 安全区效果减半
    # 特定效果的启用/禁用状态
    effects:
      rain_slow: false  # 安全区禁用雨天减速效果
      thunder_damage: false  # 安全区禁用雷暴伤害效果
      sunny_bonus: true

  # 战斗区配置
  pvp_zone:
    world: "world"
    area:
      min-x: 200
      min-y: 0
      min-z: 200
      max-x: 400
      max-y: 256
      max-z: 400
    effect-multiplier: 2.0  # 战斗区效果增强
    effects:
      rain_slow: true
      thunder_damage: true
      sunny_bonus: true

# 共享效果配置
shared-effects:
  # 雨天打滑效果
  rain_slip:
    # 前置条件 - 只有在雨天且在户外时才可能触发
    conditions:
      type: "weather"
      weather: "rain"
    commands:
      list:
        - "title %player% actionbar {\"text\":\"你滑倒了！\",\"color\":\"red\"}"
        - "playsound minecraft:entity.player.hurt ambient %player% ~ ~ ~ 1.0 1.0"
    damage:
      enabled: true
      chance: 0.8
      amount: 1.0
      
  # 小型闪电打击效果
  small_lightning_strike:
    commands:
      list:
        - "execute at %player% run particle minecraft:electric_spark ~ ~1 ~ 0.5 0.5 0.5 0.1 10 force"
        - "playsound minecraft:entity.lightning_bolt.thunder ambient %player% ~ ~ ~ 0.5 1.0"
    damage:
      enabled: true
      chance: 0.3
      amount: [1.0, 3.0]
      
  # 治疗效果
  healing_effect:
    commands:
      list:
        - "particle minecraft:heart ~ ~1 ~ 0.5 0.5 0.5 0.1 5 force"
    chain-effects:
      # 连锁效果 - 治疗效果可能触发更强的治疗效果
      strong_healing:
        chance: 0.2
        effect-id: "strong_healing_effect"
        delay: 40  # 延迟2秒触发
        conditions:
          type: "has_potion_effect"
          effect_type: "REGENERATION"

  # 强力治疗效果
  strong_healing_effect:
    commands:
      list:
        - "particle minecraft:heart ~ ~1 ~ 0.5 0.5 0.5 0.1 10 force"
        - "title %player% actionbar {\"text\":\"强力治疗！\",\"color\":\"green\"}"
        
  # 沙尘暴效果
  sandstorm_effect:
    potion-effects:
      - type: SLOW
        level: 1
        duration: 200
      - type: BLINDNESS
        level: 0
        duration: 100
    commands:
      list:
        - "particle minecraft:dust 0.8 0.7 0.4 1 ~ ~1 ~ 1 1 1 0.1 20 force"
        - "playsound minecraft:weather.rain ambient %player% ~ ~ ~ 0.8 0.7"
    message:
      enabled: true
      text: "§6沙尘暴来袭，视线受阻！"
      chance: 0.6
      
  # 暴风雪效果
  blizzard_effect:
    potion-effects:
      - type: SLOW
        level: 2
        duration: 200
      - type: WEAKNESS
        level: 1
        duration: 200
    commands:
      list:
        - "particle minecraft:snowflake ~ ~1 ~ 1 1 1 0.1 30 force"
        - "particle minecraft:cloud 0.8 0.8 1.0 1 ~ ~1 ~ 1 1 1 0.1 20 force"
        - "playsound minecraft:weather.rain ambient %player% ~ ~ ~ 0.8 2.0"
    message:
      enabled: true
      text: "§b暴风雪！寒冷刺骨！"
      chance: 0.6
      
  # 春节效果
  spring_festival_effect:
    potion-effects:
      - type: LUCK
        level: 1
        duration: 400
    commands:
      list:
        - "title %player% title {\"text\":\"春节快乐！\",\"color\":\"gold\"}"
        - "particle minecraft:happy_villager ~ ~1 ~ 1 1 1 0.1 10 force"
    message:
      enabled: true
      text: "§6春节期间，幸运加倍！"
      chance: 1.0
      
  # 万圣节效果
  halloween_effect:
    potion-effects:
      - type: SLOW
        level: 0
        duration: 200
      - type: WEAKNESS
        level: 0
        duration: 200
    commands:
      list:
        - "particle minecraft:ash ~ ~1 ~ 1 1 1 0.1 10 force"
    message:
      enabled: true
      text: "§8万圣节的恐惧笼罩着你..."
      chance: 0.8
      
  # 圣诞节效果
  christmas_effect:
    potion-effects:
      - type: FIRE_RESISTANCE
        level: 0
        duration: 400
    commands:
      list:
        - "particle minecraft:snowflake ~ ~1 ~ 1 1 1 0.1 20 force"
    message:
      enabled: true
      text: "§f圣诞节的温暖保护着你"
      chance: 0.7
      
  # 夏日炎炎效果
  summer_heat_effect:
    potion-effects:
      - type: FIRE_RESISTANCE
        level: 0
        duration: 200
    message:
      enabled: true
      text: "§c夏日炎炎，注意防暑！"
      chance: 0.5
      
  # 满月效果
  full_moon_effect:
    potion-effects:
      - type: SPEED
        level: 0
        duration: 200
      - type: JUMP
        level: 0
        duration: 200
    message:
      enabled: true
      text: "§f满月之夜，力量增强！"
      chance: 0.6
      
  # 新月效果
  new_moon_effect:
    potion-effects:
      - type: SLOW
        level: 0
        duration: 200
      - type: WEAKNESS
        level: 0
        duration: 200
    message:
      enabled: true
      text: "§8新月之夜，力量减弱..."
      chance: 0.6
      
  # 资深玩家效果
  veteran_player_effect:
    potion-effects:
      - type: DAMAGE_RESISTANCE
        level: 0
        duration: 200
    message:
      enabled: true
      text: "§a感谢你的长期支持！"
      chance: 0.5

# 生物群系天气效果配置
biome-weather:
  enabled: true
  update-interval: 20  # 效果更新间隔，单位为tick
  # 为不同生物群系定义独特的天气效果
  biomes:
    # 沙漠生物群系
    desert:
      # 沙漠中的特殊天气 - 沙尘暴
      weather:
        # 晴天时可能触发沙尘暴
        clear:
          enabled: true
          chance: 0.1  # 10% 几率在晴天触发沙尘暴
          effects:
            - type: sandstorm
              duration: [200, 400]  # 持续时间10-20秒
        # 雨天时的特殊效果（沙漠中很少下雨）
        rain:
          enabled: true
          chance: 0.01  # 1% 几率下雨
          potion-effects:
            - type: REGENERATION
              level: 1
              duration: 200
          message:
            enabled: true
            text: "§a奇迹！沙漠中下雨了！"
            chance: 1.0
            
    # 雪原生物群系
    snowy_plains:
      # 雪原中的特殊天气 - 暴风雪
      weather:
        # 下雪时可能触发暴风雪
        rain:
          enabled: true
          chance: 0.15  # 15% 几率触发暴风雪
          effects:
            - type: blizzard
              duration: [300, 600]  # 持续时间15-30秒
        # 晴天时的特殊效果
        clear:
          enabled: true
          potion-effects:
            - type: SPEED
              level: 0
              duration: 200
          message:
            enabled: true
            text: "§b雪后初晴，空气清新"
            chance: 0.3
            
    # 丛林生物群系
    jungle:
      # 丛林中的特殊天气 - 湿热
      weather:
        # 任何天气下都可能触发湿热效果
        any:
          enabled: true
          chance: 0.2  # 20% 几率触发湿热效果
          potion-effects:
            - type: HUNGER
              level: 0
              duration: 200
            - type: SLOW
              level: 0
              duration: 100
          message:
            enabled: true
            text: "§2丛林湿热难耐"
            chance: 0.5
            
    # 沼泽生物群系
    swamp:
      # 沼泽中的特殊天气 - 毒雾
      weather:
        # 夜晚时可能触发毒雾
        night:
          enabled: true
          chance: 0.1  # 10% 几率触发毒雾
          potion-effects:
            - type: POISON
              level: 0
              duration: 100
            - type: SLOW
              level: 0
              duration: 200
          message:
            enabled: true
            text: "§2沼泽中升起毒雾"
            chance: 0.7
            
    # 下界荒地生物群系
    nether_wastes:
      # 下界中的特殊天气 - 火雨
      weather:
        # 任何时候都可能触发火雨
        any:
          enabled: true
          chance: 0.05  # 5% 几率触发火雨
          damage:
            enabled: true
            chance: 0.3
            amount: [1.0, 3.0]
          commands:
            list:
              - "particle minecraft:lava ~ ~10 ~ 0.5 0.5 0.5 0.1 5 force"
              - "particle minecraft:flame ~ ~10 ~ 1 1 1 0.1 10 force"
          message:
            enabled: true
            text: "§c下界火雨！小心躲避！"
            chance: 0.8
            
    # 苍白花园生物群系 (Minecraft 1.21新增)
    pale_garden:
      # 苍白花园中的特殊天气 - 神秘凋零
      weather:
        # 任何天气下都可能触发神秘凋零效果
        any:
          enabled: true
          chance: 0.1  # 10% 几率触发
          potion-effects:
            - type: WITHER
              level: 0
              duration: 100
            - type: SLOW
              level: 0
              duration: 100
          message:
            enabled: true
            text: "§8苍白花园中弥漫着不祥的气息..."
            chance: 0.7
          commands:
            list:
              - "particle minecraft:ash ~ ~1 ~ 1 1 1 0.1 10 force"
              - "particle minecraft:mycelium ~ ~1 ~ 1 1 1 0.1 5 force"
        # 夜晚时的特殊效果
        night:
          enabled: true
          chance: 0.15  # 15% 几率触发
          potion-effects:
            - type: BLINDNESS
              level: 0
              duration: 100
            - type: WEAKNESS
              level: 0
              duration: 100
          message:
            enabled: true
            text: "§8夜晚的苍白花园更加阴森可怖"
            chance: 0.8
          commands:
            list:
              - "particle minecraft:soul ~ ~1 ~ 1 1 1 0.1 10 force"

# 时间相关效果配置
time-effects:
  # 特殊节日效果
  special-events:
    # 春节效果
    spring_festival:
      enabled: true
      months: [2]  # 2月
      days: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]  # 2月1日到15日
      effect-id: "spring_festival_effect"
      
    # 万圣节效果
    halloween:
      enabled: true
      months: [10]  # 10月
      days: [31]  # 10月31日
      effect-id: "halloween_effect"
      
    # 圣诞节效果
    christmas:
      enabled: true
      months: [12]  # 12月
      days: [24, 25, 26]  # 12月24-26日
      effect-id: "christmas_effect"
      
    # 夏日炎炎效果
    summer_heat:
      enabled: true
      months: [7, 8]  # 7月和8月
      effect-id: "summer_heat_effect"
  
  # 月相效果
  moon-phases:
    full_moon:
      enabled: true
      effect-id: "full_moon_effect"
    new_moon:
      enabled: true
      effect-id: "new_moon_effect"
      
  # 玩家在线时长效果
  playtime:
    veteran:  # 60分钟以上
      enabled: true
      minutes: 60
      effect-id: "veteran_player_effect"

# 天气效果配置
effects:
  # 晴天效果
  clear:
    # 冷却时间（秒），防止过于频繁触发
    cooldown: 30
    enabled: true
    # 生物群系限制 - 只在这些生物群系中生效
    biomes:
      - plains
      - forest
      - savanna
      - desert
    # 高度限制 - 只在这个高度范围内生效
    min-height: 60
    max-height: 320
    # 药水效果
    potion-effects:
      - type: SPEED
        level: [0, 1]  # 范围随机 0-1 级
        duration: [100, 200]  # 范围随机 100-200 ticks
      - type: JUMP
        level: 0
        duration: 200
    # 随机效果
    random-effects:
      chance: 0.2  # 20% 几率触发
      effects:
        - type: REGENERATION
          level: 0
          duration: 100
        - type: DAMAGE_RESISTANCE
          level: 0
          duration: 150
    # 标题显示
    title:
      enabled: true
      text: "§e晴天"
      subtitle: "§7天气晴朗"
      fadeIn: 10
      stay: 70
      fadeOut: 20
      chance: 0.5
    # 声音效果
    sound:
      enabled: true
      resource: "entity.experience_orb.pickup"
      volume: 1.0
      pitch: 1.0
      chance: 0.5
    # 命令
    commands:
      chance: 0.05  # 5% 几率执行
      list:
        - "title %player% subtitle {\"text\":\"阳光明媚\",\"color\":\"yellow\"}"
        - "particle minecraft:happy_villager ~ ~1 ~ 0.5 0.5 0.5 0.1 10 force"
      # 连锁效果 - 命令执行后有几率触发其他效果
      chain-effects:
        bonus_effect:
          chance: 0.2  # 20% 几率触发
          effect-id: "healing_effect"
          delay: 20  # 延迟1秒触发
          conditions:
            type: "has_potion_effect"
            effect_type: "SPEED"

  # 雨天效果
  rain:
    cooldown: 30
    enabled: true
    # 生物群系限制
    biomes:
      - forest
      - taiga
      - swamp
      - jungle
    # 光照限制 - 只在这个光照范围内生效
    min-light: 0
    max-light: 10
    # 药水效果
    potion-effects:
      - type: SLOW
        level: 0
        duration: 100
    # 随机效果 - 带前置条件
    random-effects:
      chance: 0.25
      # 前置条件 - 只有当玩家已经有缓慢效果时才可能触发
      prerequisites:
        type: has_potion_effect
        effect_type: SLOW
        level: 0
      effects:
        - type: WEAKNESS
          level: 0
          duration: 200
    # 动作栏消息
    action-bar:
      enabled: true
      text: "§b下雨了"
      chance: 0.5
    # 声音效果
    sound:
      enabled: true
      resource: "weather.rain"
      volume: 0.8
      pitch: 1.0
      chance: 0.5
    # 命令
    commands:
      chance: 0.08  # 8% 几率执行
      list:
        - "title %player% actionbar {\"text\":\"雨水淋湿了你的装备\",\"color\":\"blue\"}"
        - "playsound minecraft:weather.rain ambient %player% ~ ~ ~ 0.5 1.0"
      # 连锁效果 - 命令执行后有几率触发其他效果
      chain-effects:
        slip_effect:
          chance: 0.25  # 25% 几率触发
          effect-id: "rain_slip"
          delay: 10  # 延迟0.5秒触发
          conditions:
            type: "light_level"
            min: 0
            max: 7
    # 雨天打滑效果
    slip:
      enabled: true
      chance: 0.05  # 5% 几率触发打滑
      effect-id: "rain_slip"  # 引用共享效果

  # 雷暴效果
  thunder:
    cooldown: 60
    enabled: true
    # 药水效果
    potion-effects:
      - type: WEAKNESS
        level: [0, 1]
        duration: [100, 150]
    # 消息
    message:
      enabled: true
      text: "§8打雷了！"
      chance: 0.5
    # 声音效果
    sound:
      enabled: true
      resource: "entity.lightning_bolt.thunder"
      volume: 1.0
      pitch: 1.0
      chance: 0.7
    # 命令 - 带连锁效果
    commands:
      chance: 0.1  # 10% 几率执行
      list:
        - "effect give %player% minecraft:glowing 5 0 true"
      # 连锁效果 - 命令执行后有几率触发其他效果
      chain-effects:
        lightning_strike:
          chance: 0.3  # 30% 几率触发
          effect-id: "small_lightning_strike"
          delay: 5  # 延迟0.25秒触发
          conditions:
            type: "random"
            chance: 0.5
    # 伤害配置
    damage:
      enabled: true
      chance: 0.15  # 15% 几率造成伤害
      amount: [2.0, 5.0]  # 范围随机 2-5 点伤害

  # 夜晚效果 - 自定义天气效果
  night:
    cooldown: 30
    enabled: true
    # 光照限制 - 只在黑暗环境中生效
    min-light: 0
    max-light: 4
    # 药水效果
    potion-effects:
      - type: NIGHT_VISION
        level: 0
        duration: 300
    # 动作栏消息
    action-bar:
      enabled: true
      text: "§1夜晚降临"
      chance: 0.3
    # 命令
    commands:
      chance: 0.1
      list:
        - "particle minecraft:soul_fire_flame ~ ~1 ~ 0.5 0.5 0.5 0.1 5 force"
      # 连锁效果
      chain-effects:
        # 夜晚效果可能触发隐身效果
        invisibility:
          chance: 0.1
          effect-id: "night_invisibility"
          delay: 60  # 延迟3秒触发

# 消息配置
messages:
  weather-info-thunder: "当前天气：&5雷暴"
  weather-info-rain: "当前天气：&9下雨"
  weather-info-clear: "当前天气：&e晴朗"
  time-info-sunrise: "当前时间：&6日出"
  time-info-day: "当前时间：&e白天"
  time-info-sunset: "当前时间：&6日落"
  time-info-night: "当前时间：&1夜晚"
  rain-slip: "&c哎呀！下雨天路滑，你摔倒了！"
  rain-start: "&9开始下雨了！"
  rain-stop: "&e雨停了，天气转晴！"
  thunder-start: "&5雷暴开始了，小心闪电！"
  thunder-stop: "&e雷暴结束了！"